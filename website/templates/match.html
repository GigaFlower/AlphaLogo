{% extends "layout.html" %}


{% block styles %}
    <link rel="stylesheet" href="static/search_match.css">
{% endblock %}

{% block scripts %}
    <script src="static/match.js"></script>
{% endblock %}

{% block body %}
    <div class="container">
        <div class="title" id="title">
            AlphaLogo
        </div>
        <div class="linkBar">
            <div class="currentLinkTitle" id="search">
                <span class="textDefaultStyle">搜索</span>
            </div>
            <div class="linkTitle" id="match">
                <span class="textDefaultStyle">匹配</span>
            </div>
        </div>
        <div class="input">
            <form id="textForm" action="/match" method="POST">
                <form id="imageForm" action="/search" enctype="multipart/form-data" method="POST">
                <input type="file" id="logo" name="logo">
                <input type="hidden" name="type" value="image">
                <button type="submit" style="padding-left:8px; padding-right:8px">Go</button> 
            </form>
        </div>
        {% if (logo_matched|length > 0) %}
            <div class="resultTitle" id="matchedResultTitle">
                您要找的是不是：
            </div>
            {% for logo in logo_matched %}
                <div class="matchedResult">
                    <div>{{ logo.ent_name }}</div>
                    <img src="{{ url_for('static',filename=logo.filename) }}">
                </div>
            {% endfor %}
        {% endif %}

        <div class="resultTitle" id="similarResultTitle">
            共搜索到{{ logo_similar|length }}个相似结果
        </div>

        {% for logo in logo_similar %}
            <div class="similarResult">
                <div>{{ logo.ent_name }}</div>
                <img src="{{ url_for('static',filename=logo.filename) }}">
            </div>
        {% endfor %}
    </div>
    
{% endblock %}
